<div class="container-fluid main-section">
  <div class="modal-content">
    <!-- Filtros de Búsqueda -->
    <form [formGroup]="formFiltro">
      <div class="container">
        <h4 class="title-menu centered-rounded-background">
          <a>
            <img *ngIf="imgSubmenu !== undefined" class="img-crud" src="{{imgSubmenu.TipoIcono}}{{imgSubmenu.Icono}}" />
          </a>
          <a style="margin-left: 5px;">Permisos</a>
        </h4>
      </div>
    </form>
    <div class="d-flex justify-content-end mt-3">
      <button class="btn btn-secondary mr-2" type="button" id="btn1" data-bs-toggle="modal" data-bs-target="#modalInfo">
        <i class="fa-solid fa-circle-info"></i>
        Info
      </button>
      <button class="btn btn-secondary" type="button" id="btn2" data-bs-toggle="modal" data-bs-target="#modalQuestion">
        <i class="fa-solid fa-circle-question"></i>
      </button>
      
    </div>
    <!-- Grilla -->
    <div class="registros mt-3" *ngIf="(listaGrilla && listaGrilla.length > 0) || (listaGrilla2 && listaGrilla2.length > 0); else noData">
      <div class="table-responsive">
        <table class="table">
          <thead class="thead-dark">
            <tr>
              <th scope="col">Nro</th>
              <th scope="col">Permiso</th>
              <th scope="col">Descripción</th>
            </tr>
          </thead>
          <tbody class="tablaUser">
            <!-- Usa ngFor para iterar sobre los elementos de listaGrilla y listaGrilla2 -->
            <ng-container>
              <tr *ngFor="let item of listaGrilla | paginate: { itemsPerPage: elementosPorPagina, currentPage: paginaActual }; let i = index">
                <td>{{ (paginaActual - 1) * elementosPorPagina + i + 1 }}</td>
                <td scope="col">{{ item.IdTipoPermiso }}</td>
                <td scope="col">{{ item.Detalle }}</td>
              </tr>
            </ng-container>
            <ng-container *ngFor="let item of listaGrilla2; let i = index">
              <tr>
                <td scope="col">{{ item.IdTipoPermisoDetalle }}</td>
                <td scope="col">{{ item.TipoPermiso }}</td>
                <td scope="col">{{ item.Method }}</td>
              </tr>
            </ng-container>
          </tbody>
        </table>
      </div>
    </div>
      <div class="mt-3"></div>
      <pagination-controls (pageChange)="cambiarPagina($event)" class="my-pagination"previousLabel="Anterior"nextLabel="Siguiente"></pagination-controls>
    <ng-template #noData>
      <h5>No se encontraron registros...</h5>
    </ng-template> 
  </div>
</div>

<div class="modal fade" id="modalInfo" tabindex="-1" aria-labelledby="modalInfoLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content" id="Modal">
      <div class="modal-header">
        <a>
          <img *ngIf="imgSubmenu !== undefined" class="img-crud" src="{{imgSubmenu.TipoIcono}}{{imgSubmenu.Icono}}" />
        </a>
        <h5 class="modal-title" id="modalInfoLabel" style="margin-left: 7px;">Información Permisos</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <h4>Nivel 1</h4>
        <p class="divider">El Permiso de Nivel 1 otorga acceso para visualizar, agregar, editar, eliminar y habilitar datos dentro del sistema Clean.</p>
        <h4>Nivel 2</h4>
        <p class="divider">El Permiso de Nivel 2 otorga acceso para visualizar, agregar y editar datos dentro del sistema Clean.</p>
        <h4>Nivel 3</h4>
        <p class="divider">El Permiso de Nivel 3 otorga acceso para visualizar y agregar habilitar datos dentro del sistema Clean.</p>
        <h4>Nivel 4</h4>
        <p class="divider">El Permiso de Nivel 4 otorga acceso para visualizar datos dentro del sistema Clean.</p>
      </div>
    </div>
  </div>
</div>


<!-- Modal Question -->
<div class="modal fade" id="modalQuestion" tabindex="-1" aria-labelledby="modalQuestionLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content" id="Modal">
      <div class="modal-header">
        <a>
          <img *ngIf="imgSubmenu !== undefined" class="img-crud" src="{{imgSubmenu.TipoIcono}}{{imgSubmenu.Icono}}" />
        </a>
        <h5 class="modal-title" id="modalQuestionLabel" style="margin-left: 7px;">Información del Módulo</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <h4>Descripción</h4>
        <p class="divider">El módulo de permisos permite a los usuarios visualizar los distintos niveles de 
          acceso disponibles en el sistema, los cuales pueden ser asignados a otros usuarios.</p>
      </div>
    </div>
  </div>
</div>

<footer class="footer">
  <app-footer></app-footer>
</footer>
